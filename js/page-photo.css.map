{"version":3,"file":"page-photo.css","mappings":";AAwEA;EACE,aAAa;EACb,eAAe;EACf,6BAA6B;AAC/B;AAEA;EACE,kBAAkB;EAClB;;wBAEsB;EACtB,sBAAsB;EACtB,gBAAgB;EAChB,mBAAmB;EACnB;4CAC0C;EAC1C,oDAAoD;AACtD;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,aAAa;EACb,4BAA4B;EAC5B,2BAA2B;EAC3B,sBAAsB;EACtB;uDACqD;EACrD,oBAAoB;AACtB;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,0BAA0B;EAC1B,yDAAyD;AAC3D;AAEA;EACE,UAAU;EACV,4BAA4B;EAC5B,yDAAyD;AAC3D;AAEA;EACE,kBAAkB;EAClB,UAAU;AACZ;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;EACV,WAAW;EACX,YAAY;EACZ;;;;GAIC;EACD,8BAA8B;EAC9B,UAAU;EACV,2BAA2B;EAC3B,uDAAuD;AACzD;AAEA;EACE,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,2CAA2C;AAC7C;;;AC1DA;EACE,YAAY;EACZ,6BAA6B;EAC7B,4BAA4B;EAC5B,eAAe;AACjB;AAEA;EACE,wBAAwB;AAC1B;AAEA;EACE,UAAU;AACZ;AAEA;;EAEE,+CAA+C;AACjD;AAEA;EACE,6CAA6C;EAC7C,UAAU;EACV,wBAAwB;AAC1B;AAEA;EACE;6CAC2C;EAC3C,YAAY;AACd;AAEA;EACE;gDAC8C;EAC9C;;yBAEuB;AACzB","sources":["webpack://sakurairo-scripts/./src/page-photo/app.vue","webpack://sakurairo-scripts/./src/page-photo/siroi.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-siroi\">\r\n    <template v-if=\"showError === false\">\r\n      <siroi\r\n        v-for=\"img in imgs\"\r\n        v-bind:data-image=\"img.img\"\r\n        v-bind:key=\"img.img\"\r\n        v-bind:vertical=\"\r\n          (function () {\r\n            if (img.vertical == null || img.vertical === true) {\r\n              return true;\r\n            } else {\r\n              return false;\r\n            }\r\n          })()\r\n        \"\r\n      >\r\n        <h1>{{ img.header }}</h1>\r\n        <p>{{ img.info }}</p>\r\n      </siroi>\r\n    </template>\r\n    <template v-if=\"showError\">\r\n      <div>\r\n        <h1>未上传图片或图片设置异常</h1>\r\n        <p>请在模板页设置如下类似如下格式的 img 标签,支持本地上传和外部引入</p>\r\n        <p>\r\n          如下代码会被渲染成\r\n          <a href=\"https://www.siroi.top/photo/\" target=\"_blank\">展示页</a>\r\n        </p>\r\n        <pre>\r\n        &lt;src=\"https://www.wahaotu.com/uploads/allimg/202010/1602912171649821.jpg\" alt=\"\" data-header=\"标题\" data-info=\"信息\" &gt;\r\n        &lt;img src=\"https://www.wahaotu.com/uploads/allimg/202010/1602912171649821.jpg\" alt=\"\" &gt;\r\n        &lt;img src=\"https://www.wahaotu.com/uploads/allimg/202010/1602912171649821.jpg\" alt=\"\" data-info=\"信息\" &gt;\r\n        &lt;img src=\"https://www.wahaotu.com/uploads/allimg/202010/1602912171649821.jpg\" alt=\"\" vertical=false data-info=\"信息\" &gt;\r\n        &lt;img src=\"https://www.wahaotu.com/uploads/allimg/202010/1602912171649821.jpg\" alt=\"\" vertical=false data-header=\"标题\" data-info=\"信息\" &gt;\r\n            </pre>\r\n        <ol>\r\n          img 参数说明\r\n          <li>data-header:标题</li>\r\n          <li>data-info:内容</li>\r\n          <li>vertical:是否竖向排列(默认竖向即vertical=true)</li>\r\n        </ol>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  async mounted() {\r\n    const resp = await fetch(\r\n      \"/wp-admin/admin-ajax.php?action=getPhoto&post=\" + this.$data.id\r\n    );\r\n    try {\r\n      if (resp.ok) {\r\n        const { imgs, code } = await resp.json();\r\n        if (code == 200) {\r\n          this.imgs = imgs;\r\n          this.showError = imgs.length <= 0;\r\n        } else {\r\n          console.error(code);\r\n        }\r\n      } else {\r\n        console.error(\"HTTP \" + resp.status);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.container-siroi {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n}\r\n\r\n.siroi {\r\n  position: relative;\r\n  /* flex: 0 0 240px;\r\n        width: 240px;\r\n        height: 320px; */\r\n  background-color: #333;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  box-shadow: rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,\r\n    inset rgba(255, 255, 255, 0.5) 0 0 0 6px;\r\n  transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);\r\n}\r\n\r\n.siroi-bg {\r\n  opacity: 0.5;\r\n  position: absolute;\r\n  top: -20px;\r\n  left: -20px;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 20px;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-size: cover;\r\n  transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95),\r\n    opacity 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);\r\n  pointer-events: none;\r\n}\r\n\r\n.siroi-info {\r\n  padding: 20px;\r\n  position: absolute;\r\n  bottom: 0;\r\n  color: #fff;\r\n  transform: translateY(40%);\r\n  transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n}\r\n\r\n.siroi-info p {\r\n  opacity: 0;\r\n  text-shadow: black 0 2px 3px;\r\n  transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n}\r\n\r\n.siroi-info * {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.siroi-info:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: linear-gradient(\r\n    to bottom,\r\n    transparent 0%,\r\n    rgba(0, 0, 0, 0.6) 100%\r\n  );\r\n  background-blend-mode: overlay;\r\n  opacity: 0;\r\n  transform: translateY(100%);\r\n  transition: 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);\r\n}\r\n\r\n.siroi-info h1 {\r\n  font-family: \"Playfair Display\";\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n  text-shadow: rgba(0, 0, 0, 0.5) 0 10px 10px;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"siroi-wrap\"\r\n    @mousemove=\"handleMouseMove\"\r\n    @mouseenter=\"handleMouseEnter\"\r\n    @mouseleave=\"handleMouseLeave\"\r\n    ref=\"siroi\"\r\n  >\r\n    <div class=\"siroi\" :style=\"siroiStyle\" ref=\"siroichild\">\r\n      <div class=\"siroi-bg\" :style=\"[siroiBgTransform, siroiBgImage]\"></div>\r\n      <div class=\"siroi-info\">\r\n        <slot name=\"header\"></slot>\r\n        <slot name=\"content\"></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n    <script>\r\nexport default {\r\n  props: [\"dataImage\", \"vertical\"],\r\n  mounted() {\r\n    if (this.vertical) {\r\n      this.$refs.siroichild.style.width = \"240px\";\r\n      this.$refs.siroichild.style.height = \"320px\";\r\n    } else {\r\n      this.$refs.siroichild.style.width = \"320px\";\r\n      this.$refs.siroichild.style.height = \"240px\";\r\n    }\r\n    this.width = this.$refs.siroi.offsetWidth;\r\n    this.height = this.$refs.siroi.offsetHeight;\r\n  },\r\n  data: () => ({\r\n    width: 0,\r\n    height: 0,\r\n    mouseX: 0,\r\n    mouseY: 0,\r\n    mouseLeaveDelay: null,\r\n  }),\r\n  computed: {\r\n    mousePX() {\r\n      return this.mouseX / this.width;\r\n    },\r\n    mousePY() {\r\n      return this.mouseY / this.height;\r\n    },\r\n    siroiStyle() {\r\n      const rX = this.mousePX * 30;\r\n      const rY = this.mousePY * -30;\r\n      return {\r\n        transform: `rotateY(${rX}deg) rotateX(${rY}deg)`,\r\n      };\r\n    },\r\n    siroiBgTransform() {\r\n      const tX = this.mousePX * -40;\r\n      const tY = this.mousePY * -40;\r\n      return {\r\n        transform: `translateX(${tX}px) translateY(${tY}px)`,\r\n      };\r\n    },\r\n    siroiBgImage() {\r\n      if (this.vertical) {\r\n        return {\r\n          width: \"280px\",\r\n          height: \"360px\",\r\n          backgroundImage: `url(${this.dataImage})`,\r\n        };\r\n      } else {\r\n        return {\r\n          width: \"360px\",\r\n          height: \"280px\",\r\n          backgroundImage: `url(${this.dataImage})`,\r\n        };\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    handleMouseMove(e) {\r\n      this.mouseX = e.pageX - this.$refs.siroi.offsetLeft - this.width / 2;\r\n      this.mouseY = e.pageY - this.$refs.siroi.offsetTop - this.height / 2;\r\n    },\r\n    handleMouseEnter() {\r\n      clearTimeout(this.mouseLeaveDelay);\r\n    },\r\n    handleMouseLeave() {\r\n      this.mouseLeaveDelay = setTimeout(() => {\r\n        this.mouseX = 0;\r\n        this.mouseY = 0;\r\n      }, 1000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.siroi-wrap {\r\n  margin: 10px;\r\n  transform: perspective(800px);\r\n  transform-style: preserve-3d;\r\n  cursor: pointer;\r\n}\r\n\r\n.siroi-wrap:hover .siroi-info {\r\n  transform: translateY(0);\r\n}\r\n\r\n.siroi-wrap:hover .siroi-info p {\r\n  opacity: 1;\r\n}\r\n\r\n.siroi-wrap:hover .siroi-info,\r\n.siroi-wrap:hover .siroi-info p {\r\n  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1);\r\n}\r\n\r\n.siroi-wrap:hover .siroi-info:after {\r\n  transition: 5s cubic-bezier(0.23, 1, 0.32, 1);\r\n  opacity: 1;\r\n  transform: translateY(0);\r\n}\r\n\r\n.siroi-wrap:hover .siroi-bg {\r\n  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1),\r\n    opacity 5s cubic-bezier(0.23, 1, 0.32, 1);\r\n  opacity: 0.8;\r\n}\r\n\r\n.siroi-wrap:hover .siroi {\r\n  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1),\r\n    box-shadow 2s cubic-bezier(0.23, 1, 0.32, 1);\r\n  box-shadow: rgba(255, 255, 255, 0.2) 0 0 40px 5px, white 0 0 0 1px,\r\n    rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,\r\n    inset white 0 0 0 6px;\r\n}\r\n</style>"],"names":[],"sourceRoot":""}